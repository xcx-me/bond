<!--app/page/detail/detail.wxml-->
<view class='bond-detail-page page-wrapper'>
	<view class='tab-bar'>
		<view class='{{currentTabId === "detail" ? "active": ""}}' bindtap='onSwitchTab' data-tid='detail'><text>债券信息</text></view>
		<view class='{{currentTabId === "question" ? "active": ""}}' bindtap='onSwitchTab' data-tid='question'><text>问答</text><text class="question-total">({{questionTotal}})</text></view>
		<view class='{{currentTabId === "store" ? "active": ""}}' bindtap='onSwitchTab' data-tid='store'><text>店铺信息</text></view>
	</view>
	<swiper current-item-id='{{currentTabId}}' class='content' duration='300' style='height: {{winHeight}}px' bindchange='bindChangeTab'>
		<block wx:for='{{tabIdList}}' wx:for-item='tabId' wx:key='index'>
			<swiper-item item-id='{{tabId}}'>
			<scroll-view class='{{tabId}}-pallet' scroll-y>
				<BondInfo wx:if='{{tabId === "detail"}}' vUrl='{{vUrl}}' bondId='{{bondId}}' needUpdate='{{needUpdate && currentTabId === tabId}}'/>
				<BondQuestion wx:if='{{tabId === "question"}}' bondId='{{bondId}}' needUpdate='{{needUpdate && currentTabId === tabId}}'/>
				<StoreDetail wx:if='{{tabId === "store"}}'
					vUrl='{{vUrl}}'
					needNavigatorIndex
					userId='{{uid}}'
					needUpdate='{{needUpdate && currentTabId === tabId}}'
					bindevent='onUpdateStoreDetail'/> 
				<OtherBonds wx:if='{{tabId === currentTabId}}' detailUrl='../bond-detail/bond-detail' isMyStore='{{isMyStore}}' bondId='{{bondId}}' uid='{{uid}}' userId='{{userId}}'/>
			</scroll-view>
		</swiper-item>
		</block>
	</swiper>
	<ShareButton />
</view>
