<!--app/page/detail/detail.wxml-->
<view class='bond-detail-page page-wrapper'>
	<view class='tab-bar'>
		<view class='tab-bar-item' bindtap='onSwitchTab' data-tid='detail'>
			<view class='{{currentTabId === "detail" ? "active": ""}}'>
				<text>债券信息</text>
			</view>
		</view>
		<view class='tab-bar-item' bindtap='onSwitchTab' data-tid='question'>
			<view class='{{currentTabId === "question" ? "active": ""}}'>
				<text>问答</text><text class="question-total">({{questionTotal}})</text>
			</view>
		</view>
		<view class='tab-bar-item' bindtap='onSwitchTab' data-tid='store'>
			<view class='{{currentTabId === "store" ? "active": ""}}'>
				<text>店铺信息</text>
			</view>
		</view>
	</view>
	<swiper current-item-id='{{currentTabId}}' class='content' duration='300' style='height: {{winHeight}}px' bindchange="bindChangeTab">
		<block wx:for='{{tabIdList}}' wx:for-item='tabId' wx:key='index'>
			<swiper-item item-id='{{tabId}}'>
				<scroll-view class='pallet' scroll-y>
					<BondInfo wx:if='{{tabId === currentTabId && currentTabId === "detail"}}' bondId='{{bondId}}' isMyStore='{{isMyStore}}' />
					<BondQuestion wx:if='{{tabId === currentTabId && currentTabId === "question"}}' bondId='{{bondId}}' userId='{{userId}}' needUpdate='{{needUpdate}}' bind:updateTotalEvent='_updateQuestionTotalEvent'/>
					<StoreDetail wx:if='{{tabId === currentTabId && currentTabId === "store"}}'
						userId='{{uid}}'
						isRegistered='{{true}}'
						isQtrade='{{isQtrade}}'/> 
					<OtherBonds wx:if='{{tabId === currentTabId}}' isMyStore='{{isMyStore}}' bondId='{{bondId}}' uid='{{uid}}' userId='{{userId}}' needUpdate='{{needUpdate}}' />
				</scroll-view>
			</swiper-item>
		</block>
	</swiper>
	<ShareButton />
</view>
